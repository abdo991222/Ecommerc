import{a as R,b as p,c as T,d as P,e as M,f,g as N,h as L,i as q,j as G}from"./chunk-LFC7O3KD.js";import{a as k}from"./chunk-3BLVB7EK.js";import{h as F}from"./chunk-WB46C33D.js";import"./chunk-HG4UXZJC.js";import{Eb as l,Fb as v,Oa as a,W as h,Ya as E,cb as s,da as g,ea as c,ib as w,mb as m,pb as t,qb as i,rb as d,wb as y,xb as u}from"./chunk-CPR7NIO3.js";import"./chunk-4CLCTAJ7.js";function V(e,o){e&1&&(t(0,"li"),l(1,"Name is required"),i())}function A(e,o){e&1&&(t(0,"li"),l(1,"Name minLength: 3"),i())}function H(e,o){e&1&&(t(0,"li"),l(1,"Name maxLength: 20"),i())}function Z(e,o){if(e&1&&(t(0,"div",6),g(),t(1,"svg",19),d(2,"path",20),i(),c(),t(3,"span",21),l(4,"Danger"),i(),t(5,"div")(6,"ul",22),s(7,V,2,0,"li")(8,A,2,0,"li")(9,H,2,0,"li"),i()()()),e&2){let n,r=u();a(7),m((n=r.registerForm.get("name"))!=null&&n.getError("required")?7:(n=r.registerForm.get("name"))!=null&&n.getError("minlength")?8:(n=r.registerForm.get("name"))!=null&&n.getError("maxlength")?9:-1)}}function I(e,o){e&1&&(t(0,"li"),l(1,"Email is Required"),i())}function $(e,o){e&1&&(t(0,"li"),l(1,"Enter valid Email"),i())}function j(e,o){if(e&1&&(t(0,"div",9),g(),t(1,"svg",19),d(2,"path",20),i(),c(),t(3,"span",21),l(4,"Danger"),i(),t(5,"div")(6,"ul",22),s(7,I,2,0,"li")(8,$,2,0,"li"),i()()()),e&2){let n,r=u();a(7),m((n=r.registerForm.get("email"))!=null&&n.getError("required")?7:(n=r.registerForm.get("email"))!=null&&n.getError("email")?8:-1)}}function z(e,o){e&1&&(t(0,"li"),l(1,"Passord is Requierd"),i())}function B(e,o){e&1&&(t(0,"li"),l(1,"Enter Vaild Passord "),i())}function O(e,o){if(e&1&&(t(0,"div",9),g(),t(1,"svg",19),d(2,"path",20),i(),c(),t(3,"span",21),l(4,"Danger"),i(),t(5,"div")(6,"ul",22),s(7,z,2,0,"li")(8,B,2,0,"li"),i()()()),e&2){let n,r=u();a(7),m((n=r.registerForm.get("password"))!=null&&n.getError("required")?7:(n=r.registerForm.get("password"))!=null&&n.getError("pattern")?8:-1)}}function U(e,o){e&1&&(t(0,"div",9),g(),t(1,"svg",19),d(2,"path",20),i(),c(),t(3,"span",21),l(4,"Danger"),i(),t(5,"div")(6,"ul",22)(7,"li"),l(8,"Password confirmation is incorrect"),i()()()())}function J(e,o){e&1&&(t(0,"li"),l(1,"Phone is Required"),i())}function K(e,o){e&1&&(t(0,"li"),l(1,"Enter Vaild Phone EGP"),i())}function Q(e,o){if(e&1&&(t(0,"div",9),g(),t(1,"svg",19),d(2,"path",20),i(),c(),t(3,"span",21),l(4,"Danger"),i(),t(5,"div")(6,"ul",22),s(7,J,2,0,"li")(8,K,2,0,"li"),i()()()),e&2){let n,r=u();a(7),m((n=r.registerForm.get("phone"))!=null&&n.getError("required")?7:(n=r.registerForm.get("phone"))!=null&&n.getError("pattern")?8:-1)}}function W(e,o){e&1&&(t(0,"span"),d(1,"i",23),i())}function X(e,o){if(e&1&&(t(0,"p",17),l(1),i()),e&2){let n=u();a(),v(n.isMessage)}}function Y(e,o){if(e&1&&(t(0,"p",18),l(1),i()),e&2){let n=u();a(),v(n.isSecces)}}var D=class e{isLodaing=!1;isMessage="";isSecces="";authService=h(k);router=h(F);registerForm=new M({name:new f(null,[p.required,p.minLength(5),p.maxLength(20)]),email:new f(null,[p.required,p.email]),password:new f(null,[p.required,p.pattern(/^[A-Za-z\d]{10,}$/)]),rePassword:new f(null,[p.required]),phone:new f(null,[p.required,p.pattern(/^(\+20|0)?1[0-2,5]{1}[0-9]{8}$/)])},this.confirmPassword);submitForm(){this.registerForm.valid&&(this.isLodaing=!0,this.authService.sendRegisterData(this.registerForm.value).subscribe({next:o=>{console.log(o),o.message==="success"?(setTimeout(()=>{this.router.navigate(["/login"])},500),this.isSecces=o.message):this.registerForm.markAllAsTouched(),this.isLodaing=!1},error:o=>{console.log(o),this.isLodaing=!1,this.isMessage=o.error.message}}))}confirmPassword(o){let n=o.get("password")?.value,r=o.get("rePassword")?.value;return n===r?null:{mismatch:!0}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=E({type:e,selectors:[["app-register"]],decls:34,vars:9,consts:[[1,"bg-gray-50","border","border-1","rounded","shadow","w-1/2","mx-auto","py-4","px-10","my-10"],[1,"text-3xl","text-center","font-medium","text-green-500"],[1,"w-full","mx-auto","py-2",3,"ngSubmit","formGroup"],[1,"mb-6"],["for","name",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["formControlName","name","type","text","id","name",1,"bg-white","border","border-gray-300","text-sm","rounded-lg","block","w-full","p-2.5","dark:placeholder-gray-400","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["role","alert",1,"flex","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-100"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["formControlName","email","type","email","id","email",1,"bg-white","border","border-gray-300","text-sm","rounded-lg","block","w-full","p-2.5","dark:placeholder-gray-400","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["role","alert",1,"flex","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["formControlName","password","type","password","id","password",1,"bg-white","border","border-gray-300","text-sm","rounded-lg","block","w-full","p-2.5","dark:placeholder-gray-400","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","repassword",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["formControlName","rePassword","type","password","id","rePassword",1,"bg-white","border","border-gray-300","text-sm","rounded-lg","block","w-full","p-2.5","dark:placeholder-gray-400","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","phone",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["formControlName","phone","type","tel","id","phone",1,"bg-white","border","border-gray-300","text-sm","rounded-lg","block","w-full","p-2.5","dark:placeholder-gray-400","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["type","submit",1,"btn-main","text-white","pt-2","pb-2","border","px-12","text-center","rounded","hover:bg-green-700","transform","duration-300"],[1,"bg-red-400","text-white","p-4"],[1,"bg-white","text-3xl","mt-2","border","border-green-600","rounded","text-green-500","p-3"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"shrink-0","inline","w-4","h-4","me-3","mt-[2px]"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],[1,"mt-1.5","list-disc","list-inside"],[1,"fas","fa-spin","fa-spinner"]],template:function(n,r){if(n&1&&(t(0,"section",0)(1,"h1",1),l(2,"Register Now"),i(),t(3,"form",2),y("ngSubmit",function(){return r.submitForm()}),t(4,"div",3)(5,"label",4),l(6,"name"),i(),d(7,"input",5),s(8,Z,10,1,"div",6),i(),t(9,"div",3)(10,"label",7),l(11,"email"),i(),d(12,"input",8),s(13,j,9,1,"div",9),i(),t(14,"div",3)(15,"label",10),l(16,"password"),i(),d(17,"input",11),s(18,O,9,1,"div",9),i(),t(19,"div",3)(20,"label",12),l(21,"rePassword"),i(),d(22,"input",13),s(23,U,9,0,"div",9),i(),t(24,"div",3)(25,"label",14),l(26,"phone"),i(),d(27,"input",15),s(28,Q,9,1,"div",9),i(),t(29,"button",16),l(30,`SignUp
`),s(31,W,2,0,"span"),i(),s(32,X,2,1,"p",17)(33,Y,2,1,"p",18),i()()),n&2){let _,x,b,S,C;a(3),w("formGroup",r.registerForm),a(5),m((_=r.registerForm.get("name"))!=null&&_.errors&&((_=r.registerForm.get("name"))!=null&&_.touched)?8:-1),a(5),m((x=r.registerForm.get("email"))!=null&&x.errors&&((x=r.registerForm.get("email"))!=null&&x.touched)?13:-1),a(5),m((b=r.registerForm.get("password"))!=null&&b.errors&&((b=r.registerForm.get("password"))!=null&&b.touched)?18:-1),a(5),m(r.registerForm.getError("mismatch")&&((S=r.registerForm.get("rePassword"))!=null&&S.touched)?23:-1),a(5),m((C=r.registerForm.get("phone"))!=null&&C.errors&&((C=r.registerForm.get("phone"))!=null&&C.touched)?28:-1),a(3),m(r.isLodaing?31:-1),a(),m(r.isMessage?32:-1),a(),m(r.isSecces?33:-1)}},dependencies:[G,N,R,T,P,L,q],styles:[".btn-main[_ngcontent-%COMP%]{background-color:#11bd11}"]})};export{D as RegisterComponent};
