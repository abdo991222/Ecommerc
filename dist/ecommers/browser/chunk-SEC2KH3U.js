import{a as y}from"./chunk-U23FDCC3.js";import{i as w}from"./chunk-WB46C33D.js";import"./chunk-HG4UXZJC.js";import{Eb as o,Fb as _,Gb as x,Ib as I,La as v,Oa as l,W as f,Ya as b,ba as p,ca as u,ib as C,nb as h,ob as S,pb as i,qb as n,rb as m,ub as k,wb as d,xb as g}from"./chunk-CPR7NIO3.js";import"./chunk-4CLCTAJ7.js";var T=(c,t)=>t.product.id,P=c=>["/checkout",c];function U(c,t){if(c&1){let e=k();i(0,"div",5)(1,"div"),m(2,"img",7),n(),i(3,"div",8)(4,"div")(5,"h4"),o(6),n(),i(7,"h6",3),o(8),n(),i(9,"button",9),d("click",function(){let a=p(e).$implicit,s=g();return u(s.RemoveItem(a.product.id))}),m(10,"i",10),o(11," Remove"),n()(),i(12,"div",11)(13,"button",12),d("click",function(){let a=p(e).$implicit,s=g();return u(s.UpdetCart(a.product.id,a.count+1))}),m(14,"i",13),n(),i(15,"h5"),o(16),n(),i(17,"button",12),d("click",function(){let a=p(e).$implicit,s=g();return u(s.UpdetCart(a.product.id,a.count-1))}),m(18,"i",14),n()()()()}if(c&2){let e=t.$implicit;l(2),C("src",e.product.imageCover,v)("alt",e.product.title),l(4),_(e.product.title),l(2),x("price: ",e.price," EGP"),l(8),_(e.count)}}var E=class c{cartService=f(y);getproduct={};ngOnInit(){this.getCart()}getCart(){this.cartService.GetLoggedUser().subscribe({next:t=>{console.log(t.data),this.getproduct=t.data},error:t=>{console.log(t)}})}RemoveItem(t){this.cartService.RemoveSpecifiCart(t).subscribe({next:e=>{console.log(e),this.getproduct=e.data,this.cartService.cartNumber.next(e.numOfCartItems)},error:e=>{console.log(e)}})}UpdetCart(t,e){this.cartService.UpdateCartProduct(t,e).subscribe({next:r=>{console.log(r),this.getproduct=r.data},error:r=>{console.log(r)}})}clearCart(){this.cartService.claerUserCart().subscribe({next:t=>{console.log(t),this.getproduct={},this.cartService.cartNumber.next(0)},error:t=>{console.log(t)}})}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=b({type:c,selectors:[["app-cart"]],decls:12,vars:4,consts:[[1,"bg-gray-100","w-[90%]","shadow","rounded","p-7","mx-auto"],[1,"text-center"],[1,"flex","items-center","justify-between"],[1,"text-green-600"],[1,"bg-red-700","text-white","py-2","px-8","rounded",3,"click"],[1,"grid","md:grid-cols-[10%_minmax(0,1fr)]","border-b","p-3"],[1,"btn-main","py-2","px-10","my-3","mx-3",3,"routerLink"],[1,"w-full",3,"src","alt"],[1,"flex","items-center","justify-between","m-3"],[3,"click"],[1,"text-green-600","fas","fa-trash-can"],[1,"flex","items-center","gap-3"],[1,"text-3xl","text-green-600",3,"click"],[1,"fa-regular","fa-square-plus"],[1,"fa-regular","fa-square-minus"]],template:function(e,r){e&1&&(i(0,"section",0)(1,"h2",1),o(2,"Shop Cart"),n(),i(3,"div",2)(4,"span",3),o(5),n(),i(6,"button",4),d("click",function(){return r.clearCart()}),o(7,"Clear"),n()(),h(8,U,19,5,"div",5,T),i(10,"button",6),o(11,"CheckOut"),n()()),e&2&&(l(5),x("Total Cart Price :",r.getproduct.totalCartPrice," EGP"),l(3),S(r.getproduct.products),l(2),C("routerLink",I(2,P,r.getproduct._id)))},dependencies:[w],styles:[".btn-main[_ngcontent-%COMP%]{background-color:#11bd11}"]})};export{E as CartComponent};
