import{a as F,b as a,c as E,d as P,e as b,f as _,g as T,h as V,i as A,j as G}from"./chunk-LFC7O3KD.js";import{a as h}from"./chunk-3BLVB7EK.js";import{h as S}from"./chunk-WB46C33D.js";import"./chunk-HG4UXZJC.js";import{Eb as r,Oa as s,W as y,Ya as x,ba as g,ca as v,cb as f,ib as l,mb as c,pb as i,qb as n,rb as m,ub as C,wb as w,xb as d}from"./chunk-CPR7NIO3.js";import"./chunk-4CLCTAJ7.js";function N(o,t){o&1&&(i(0,"span"),m(1,"i",8),n())}function D(o,t){if(o&1){let e=C();i(0,"form",2),w("ngSubmit",function(){g(e);let u=d();return v(u.verifyEmailsubmet())}),i(1,"div",3)(2,"h1",4),r(3,"Forgot Password"),n(),i(4,"label",5),r(5,"email"),n(),m(6,"input",6),i(7,"button",7),r(8,"verifyEmail "),f(9,N,2,0,"span"),n()()()}if(o&2){let e=d();l("formGroup",e.verifyEmail),s(7),l("disabled",e.verifyEmail.invalid),s(2),c(e.isLodaing?9:-1)}}function M(o,t){o&1&&(i(0,"span"),m(1,"i",8),n())}function q(o,t){if(o&1){let e=C();i(0,"form",2),w("ngSubmit",function(){g(e);let u=d();return v(u.verifyCodeSubmet())}),i(1,"div",9)(2,"h1",10),r(3,"Forgot Password"),n(),i(4,"label",11),r(5,"resetCode"),n(),m(6,"input",12),i(7,"button",7),r(8,"verifyCode "),f(9,M,2,0,"span"),n()()()}if(o&2){let e=d();l("formGroup",e.verifyCode),s(7),l("disabled",e.verifyCode.invalid),s(2),c(e.isLodaing?9:-1)}}function R(o,t){o&1&&(i(0,"span"),m(1,"i",8),n())}function k(o,t){if(o&1){let e=C();i(0,"form",2),w("ngSubmit",function(){g(e);let u=d();return v(u.verifyPasswordsubmet())}),i(1,"div",9)(2,"h1",10),r(3,"Forgot Password"),n(),i(4,"label",5),r(5,"email"),n(),m(6,"input",6),i(7,"label",13),r(8,"newPassword"),n(),m(9,"input",14),i(10,"button",7),r(11,"verifyPassword "),f(12,R,2,0,"span"),n()()()}if(o&2){let e=d();l("formGroup",e.verifyPassword),s(10),l("disabled",e.verifyPassword.invalid),s(2),c(e.isLodaing?12:-1)}}var L=class o{_AuthService=y(h);_Router=y(S);isLodaing=!1;step=1;verifyEmail=new b({email:new _(null,[a.required,a.email])});verifyCode=new b({resetCode:new _(null,[a.required,a.pattern(/^[0-9]{6}$/)])});verifyPassword=new b({email:new _(null,[a.required,a.email]),newPassword:new _(null,[a.required,a.pattern(/^[A-Za-z\d]{6,}$/)])});verifyEmailsubmet(){this.isLodaing=!0,this._AuthService.verifyEmailApi(this.verifyEmail.value).subscribe({next:t=>{console.log(t),t.statusMsg==="success"&&(this.step=2),this.isLodaing=!1},error:t=>{console.log(t)}})}verifyCodeSubmet(){this.isLodaing=!0,this._AuthService.verifyCodeApi(this.verifyCode.value).subscribe({next:t=>{console.log(t),t.status==="Success"&&(this.step=3),this.isLodaing=!1},error:t=>{console.log(t)}})}verifyPasswordsubmet(){this.isLodaing=!0,this._AuthService.verifyPasswordApi(this.verifyPassword.value).subscribe({next:t=>{console.log(t),localStorage.setItem("userToken",t.token),this._AuthService.saveUserData(),this._Router.navigate(["/home"]),this.isLodaing=!1}})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["app-forgotpassword"]],decls:4,vars:1,consts:[[1,"my-10"],[3,"formGroup"],[3,"ngSubmit","formGroup"],[1,"bg-gray-100","p-5","w-[60%]","mx-auto"],[1,"btn-main1","text-center","pb-4"],["for","email"],["formControlName","email","type","email","id","email",1,"form-control","m-1"],["type","submit",1,"btn-main","p-2","m-3",3,"disabled"],[1,"fas","fa-spin","fa-spinner"],[1,"bg-gray-100","p-10","w-[60%]","mx-auto"],[1,"btn-main1","text-center","pb-5"],["for","resetCode"],["formControlName","resetCode","type","text","id","resetCode",1,"form-control","m-1"],["for","newPassword"],["formControlName","newPassword","type","password","id","newPassword",1,"form-control","m-1"]],template:function(e,p){e&1&&(i(0,"section",0),f(1,D,10,3,"form",1)(2,q,10,3,"form",1)(3,k,13,3,"form",1),n()),e&2&&(s(),c(p.step==1?1:p.step==2?2:p.step==3?3:-1))},dependencies:[G,T,F,E,P,V,A],styles:[".btn-main[_ngcontent-%COMP%]{background-color:#11bd11}.btn-main1[_ngcontent-%COMP%]{color:#11bd11}"]})};export{L as ForgotpasswordComponent};
