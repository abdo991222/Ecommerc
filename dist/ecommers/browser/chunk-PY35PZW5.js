import{a as L,b as g,c as y,d as k,e as T,f as v,g as M,h as N,i as D,j as G}from"./chunk-LFC7O3KD.js";import{a as F}from"./chunk-3BLVB7EK.js";import{h as w,i as E}from"./chunk-WB46C33D.js";import"./chunk-HG4UXZJC.js";import{Eb as r,Fb as b,Oa as a,W as f,Ya as C,cb as s,da as x,ea as _,ib as S,mb as m,pb as t,qb as i,rb as d,wb as h,xb as u}from"./chunk-CPR7NIO3.js";import"./chunk-4CLCTAJ7.js";function P(e,n){e&1&&(t(0,"li"),r(1,"Email is Required"),i())}function R(e,n){e&1&&(t(0,"li"),r(1,"Enter valid Email"),i())}function V(e,n){if(e&1&&(t(0,"div",6),x(),t(1,"svg",14),d(2,"path",15),i(),_(),t(3,"span",16),r(4,"Danger"),i(),t(5,"div")(6,"ul",17),s(7,P,2,0,"li")(8,R,2,0,"li"),i()()()),e&2){let o,l=u();a(7),m((o=l.loginForm.get("email"))!=null&&o.getError("required")?7:(o=l.loginForm.get("email"))!=null&&o.getError("email")?8:-1)}}function A(e,n){e&1&&(t(0,"li"),r(1,"Passord is Requierd"),i())}function H(e,n){e&1&&(t(0,"li"),r(1,"Enter Vaild Passord "),i())}function I(e,n){if(e&1&&(t(0,"div",6),x(),t(1,"svg",14),d(2,"path",15),i(),_(),t(3,"span",16),r(4,"Danger"),i(),t(5,"div")(6,"ul",17),s(7,A,2,0,"li")(8,H,2,0,"li"),i()()()),e&2){let o,l=u();a(7),m((o=l.loginForm.get("password"))!=null&&o.getError("required")?7:(o=l.loginForm.get("password"))!=null&&o.getError("pattern")?8:-1)}}function Z(e,n){e&1&&(t(0,"span"),d(1,"i",18),i())}function j(e,n){if(e&1&&(t(0,"p",12),r(1),i()),e&2){let o=u();a(),b(o.isMessage)}}function U(e,n){if(e&1&&(t(0,"p",13),r(1),i()),e&2){let o=u();a(),b(o.isSecces)}}var q=class e{isLodaing=!1;isMessage="";isSecces="";authService=f(F);router=f(w);loginForm=new T({email:new v(null,[g.required,g.email]),password:new v(null,[g.required,g.pattern(/^[A-Za-z\d]{6,}$/)])});submitForm(){this.loginForm.valid&&(this.isLodaing=!0,this.authService.sendLoginData(this.loginForm.value).subscribe({next:n=>{console.log(n),n.message==="success"&&(setTimeout(()=>{localStorage.setItem("userToken",n.token),this.authService.saveUserData(),this.router.navigate(["/home"])},500),this.isSecces=n.message),this.isLodaing=!1},error:n=>{console.log(n),this.isLodaing=!1,this.isMessage=n.error.message}}))}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C({type:e,selectors:[["app-login"]],decls:22,vars:6,consts:[[1,"bg-gray-50","border","border-1","rounded","shadow","w-1/2","mx-auto","py-4","px-10","my-10"],[1,"text-3xl","text-center","font-medium","text-green-500"],[1,"w-full","mx-auto","py-2",3,"ngSubmit","formGroup"],[1,"mb-6"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["formControlName","email","type","email","id","email",1,"bg-white","border","border-gray-300","text-sm","rounded-lg","block","w-full","p-2.5","dark:placeholder-gray-400","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["role","alert",1,"flex","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["formControlName","password","type","password","id","password",1,"bg-white","border","border-gray-300","text-sm","rounded-lg","block","w-full","p-2.5","dark:placeholder-gray-400","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[1,"d-flex","justify-end","align-items-center","gap-4"],["routerLink","/Forgot-Password"],["type","submit",1,"btn-main","text-white","pt-2","pb-2","border","px-12","text-center","rounded","hover:bg-green-700","transform","duration-300"],[1,"bg-red-400","text-white","p-4"],[1,"bg-white","text-3xl","mt-2","border","border-green-600","rounded","text-green-500","p-3"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"shrink-0","inline","w-4","h-4","me-3","mt-[2px]"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],[1,"mt-1.5","list-disc","list-inside"],[1,"fas","fa-spin","fa-spinner"]],template:function(o,l){if(o&1&&(t(0,"section",0)(1,"h1",1),r(2,"Register Now"),i(),t(3,"form",2),h("ngSubmit",function(){return l.submitForm()}),t(4,"div",3)(5,"label",4),r(6,"email"),i(),d(7,"input",5),s(8,V,9,1,"div",6),i(),t(9,"div",3)(10,"label",7),r(11,"password"),i(),d(12,"input",8),s(13,I,9,1,"div",6),i(),t(14,"div",9)(15,"a",10),r(16,"ForgotPassword"),i(),t(17,"button",11),r(18,"SignUp "),s(19,Z,2,0,"span"),i()(),s(20,j,2,1,"p",12)(21,U,2,1,"p",13),i()()),o&2){let p,c;a(3),S("formGroup",l.loginForm),a(5),m((p=l.loginForm.get("email"))!=null&&p.errors&&((p=l.loginForm.get("email"))!=null&&p.touched)?8:-1),a(5),m((c=l.loginForm.get("password"))!=null&&c.errors&&((c=l.loginForm.get("password"))!=null&&c.touched)?13:-1),a(6),m(l.isLodaing?19:-1),a(),m(l.isMessage?20:-1),a(),m(l.isSecces?21:-1)}},dependencies:[G,M,L,y,k,N,D,E],styles:[".btn-main[_ngcontent-%COMP%]{background-color:#11bd11}"]})};export{q as LoginComponent};
